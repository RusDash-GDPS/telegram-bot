## GDPS In Telegram
Этот исходник позволит вашему боту работать с вашим GDPS, путём отправки команд ему.

***Этот бот работает по исходникам ядра от Megasa1nt! Используйте именно это ядро на своём хостинге или разворачивайте GDPS на GDPSFH.***

### Основной функционал
* Просмотр уровней
* Управление уровнями от лица GDPS-аккаунта
* (БОНУС) Открытие тикетов поддержки

## Установка и настройка
Для того, чтобы бот работал необходимо правильно его настроить.
1. Создайте бота через официальный BotFather в Telegram и получите токен.

2. Распакуйте этот архив и закиньте папку "api" в корневую папку вашего GDPS (public_html для GDPSFH)

3. Откройте в браузере ссылку для установки хука (ОБЯЗАТЕЛЬНО, замените <ЗНАЧЕНИЕ> на требуемые значения без <>)
* https://api.telegram.org/bot<ТОКЕН_БОТА>/setWebhook?url=https://example.com/api/telegram/bot.php (замените example.com на домен вашего GDPS)

4. Зайдите в папку "api"/"telegram" и отредактируйте botLib.php
* Замените значение $supportGroupID с 0000 на ID вашей группы саппорта (см. раздел "примечание")
* Замените значение $bot_token с ТОКЕН_БОТА на ваш реальный токен, который вы получили в BotFather.
* Замените значение $botUserName с @bot на реальный юз бота, которого вы создали.
* Замените значение $botUserID с 0000 на ID бота (см. раздел "примечание").

5. Зайдите в BotFather и установите меню команд.
* В чате с BotFather напишите `/setcommands` и выберите бота, для которого настраиваете этот код.
* Далее отправьте BotFather следующий текст:
  ```
  lv - Посмотреть информацию об уровне
  link - Привязать свой GDPS-аккаунт
  unlink - Отвязать свой GDPS-аккаунт
  lvedit - Изменить данные своего уровня
  daily - Посмотреть последний Daily уровень
  weekly - Посмотреть последний Weekly уровень
  event - Посмотреть последний Event уровень
  ticket - Открыть тикет поддержки
  tclose - Закрыть тикет поддержки
  ```
  Можете изменить описание команд на своё усмотрение

6. Сохраните изменения и добавьте бота в необходимые группы и __группу саппорта__ (Если у вас нет группы саппорта, то создайте новую группу).

***Числовые знаения в переменных переданы в кавычках (""), нивкоем случае не удаляйте кавычки при замене числовых значений!***

## Примечание
* Для того, чтобы получить числовые значения $supportGroupID и $botUserID выполните следующие шаги:
1. Найдите @LeadConverterToolkitBot в Telegram и начните чат с ним.
2. Выберите анонимное сообщение в группе (для $supportGroupID), сообщение от бота (для $botUserID) и перешлите их боту выше.
3. Вставьте полученные значения в соответственные переменные.

* Если у вас не получается настроить и установить бота, перейдите в [группу поддержки](https://t.me/RusDashChat) и сообщите об этом. Я помогу, когда буду свободен.

* Если хотите отблагодарить меня, то присоеденитесь к группе поддержки и подпишитесь на [телеграм канал](https://t.me/RusDash), мне будет приятно ;).

**Применяя код отсюда вы осознаёте, что взаимодействие с ботом, работающем от этого кода влияет на игровые данные вашего GDPS.**

*Приятного использования!*





